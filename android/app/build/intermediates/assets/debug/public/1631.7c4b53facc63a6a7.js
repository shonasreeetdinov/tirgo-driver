"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1631,324],{2822:(G,L,n)=>{n.r(L),n.d(L,{ActiveorderPageModule:()=>I});var m=n(6814),i=n(6223),d=n(7331),A=n(6800),P=n(5861),O=n(7838),M=n(5053);const h=(0,n(9234).fo)("CallNumber",{web:()=>n.e(9668).then(n.bind(n,9668)).then(r=>r.CallNumber)});var e=n(2029),Z=n(2545),s=n(8720),v=n(2486),w=n(3911);function j(r,F){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const c=F.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",o.returnNameTypeTransport(c)," ")}}function Q(r,F){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,j,2,1,"span",10),e.qZA()),2&r){const c=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==c.authService.activeorder?null:c.authService.activeorder.transport_types)}}function V(r,F){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const c=e.oxw();e.xp6(1),e.hij(" ",c.returnNameTypeTransport(null==c.authService.activeorder?null:c.authService.activeorder.transport_type)," ")}}function te(r,F){1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u0430\u044f \u043e\u043f\u043b\u0430\u0442\u0430")),e.xp6(3),e.Oqu("\u0414\u0430"))}function l(r,F){1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ADR")),e.xp6(3),e.Oqu("\u0414\u0430"))}function t(r,F){1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430")),e.xp6(3),e.Oqu("\u0414\u0430"))}function u(r,F){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&r){const c=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b")),e.xp6(3),e.Oqu(c.authService.activeorder.userphoneorder)}}const C=[{path:"",component:(()=>{class r{constructor(c,o,a,Y,N,E){this.authService=c,this.loadingCtrl=o,this.alertController=a,this.platform=Y,this.router=N,this.modalCtrl=E}ngOnInit(){this.item=this.authService.activeorder}finishOrder(c){var o=this;return(0,P.Z)(function*(){const a=yield o.alertController.create({header:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?",cssClass:"customAlert",buttons:[{text:"\u041d\u0435\u0442",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"\u0414\u0430",handler:(Y=(0,P.Z)(function*(){yield a.present(),o.loading=yield o.loadingCtrl.create({message:"\u0417\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u043c \u0437\u0430\u043a\u0430\u0437"}),o.loading.present(),O.b.getCurrentPosition({maximumAge:1e3,timeout:5e3,enableHighAccuracy:!0}).then(function(){var N=(0,P.Z)(function*(E){let J;J=c.isMerchant?yield o.authService.finishMerchantOrder(o.authService.activeorder.id,E.coords.latitude.toString(),E.coords.longitude.toString(),c.route?.to_city).toPromise():yield o.authService.finishOrder(o.authService.activeorder.id,E.coords.latitude.toString(),E.coords.longitude.toString()).toPromise(),yield(yield o.modalCtrl.create({component:M.b,showBackdrop:!0,breakpoints:[0,.6],initialBreakpoint:.6,presentingElement:yield o.modalCtrl.getTop(),backdropDismiss:!0,cssClass:"modalCss",mode:"ios",componentProps:{orderid:o.authService.activeorder.id,userid:o.authService.activeorder.user_id}})).present(),J.status?(o.loading.dismiss(),J.error&&(yield o.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",J.error)),o.authService.activeorder=null,yield o.router.navigate(["/tabs/home"],{replaceUrl:!0})):(o.loading.dismiss(),yield o.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",J.error))});return function(E){return N.apply(this,arguments)}}()).catch(function(){var N=(0,P.Z)(function*(E){o.loading.dismiss(),o.authService.alertLocation("\u0423\u043f\u0441","\u0414\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0437\u043d\u0430\u0442\u044c \u0432\u0430\u0448\u0443 \u0433\u0435\u043e\u043f\u043e\u0437\u0438\u0446\u0438\u044e. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 Tirgo Driver")});return function(E){return N.apply(this,arguments)}}())}),function(){return Y.apply(this,arguments)})}]});var Y;yield a.present()})()}callMan(c){return(0,P.Z)(function*(){try{const o=yield h.call({number:c,bypassAppChooser:!0});console.log("Call successful",o)}catch(o){console.error("Error calling number",o)}})()}returnNameTypeTransport(c){const o=this.authService.typetruck.findIndex(a=>+a.id==+c);return o>=0?this.authService.typetruck[o].name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}returnNameCargoType(c){const o=this.authService.typecargo.findIndex(a=>+a.id==+c);return o>=0?this.authService.typecargo[o].name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(Z.$),e.Y36(d.HT),e.Y36(d.Br),e.Y36(s.t4),e.Y36(A.F0),e.Y36(d.IN))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-activeorder"]],decls:66,vars:43,consts:[[1,"ion-padding"],[1,"order-item"],[1,"order-item-articul"],["src","assets/img/circle.svg","alt",""],[1,"table-info","table-img"],[1,"table-data"],[2,"color","#fff"],[4,"ngIf"],[1,"get-order-btn","order-succes-btn",3,"click"],[1,"get-order-btn",3,"click"],[4,"ngFor","ngForOf"]],template:function(o,a){1&o&&(e._UZ(0,"app-header"),e.TgZ(1,"ion-content",0)(2,"div",1)(3,"div",2)(4,"span"),e._UZ(5,"img",3),e._uU(6),e.qZA()(),e.TgZ(7,"table",4)(8,"tbody")(9,"tr")(10,"td"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()(),e.TgZ(15,"tr")(16,"td"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()()()(),e.TgZ(21,"table",5)(22,"tbody")(23,"tr")(24,"td"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.ALo(29,"date"),e.qZA()(),e.TgZ(30,"tr")(31,"td"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"td")(35,"div",6),e.YNc(36,Q,2,1,"span",7),e.YNc(37,V,2,1,"span",7),e.qZA()()(),e.TgZ(38,"tr")(39,"td"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"td"),e._uU(43),e.qZA()(),e.YNc(44,te,6,4,"tr",7),e.YNc(45,l,6,4,"tr",7),e.YNc(46,t,6,4,"tr",7),e.TgZ(47,"tr")(48,"td"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"td"),e._uU(52),e.qZA()(),e.TgZ(53,"tr")(54,"td"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA()(),e.YNc(59,u,6,4,"tr",7),e.qZA()(),e.TgZ(60,"button",8),e.NdJ("click",function(){return a.callMan(a.authService.activeorder.userphoneorder)}),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"button",9),e.NdJ("click",function(){return a.finishOrder(a.authService.activeorder)}),e._uU(64),e.ALo(65,"translate"),e.qZA()()()),2&o&&(e.xp6(6),e.hij(" \u2116",a.authService.addLeadingZeros(null==a.authService.activeorder?null:a.authService.activeorder.id),""),e.xp6(5),e.hij("",e.lcZ(12,22,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0438\u0437"),":"),e.xp6(3),e.Oqu(null==a.authService.activeorder.route?null:a.authService.activeorder.route.from_city),e.xp6(3),e.hij("",e.lcZ(18,24,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0432"),":"),e.xp6(3),e.Oqu(null==a.authService.activeorder.route?null:a.authService.activeorder.route.to_city),e.xp6(5),e.Oqu(e.lcZ(26,26,"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438")),e.xp6(3),e.Oqu(e.xi3(29,28,null==a.authService.activeorder?null:a.authService.activeorder.date_send,"dd MMMM yyyy HH:mm")),e.xp6(4),e.Oqu(e.lcZ(33,31,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430")),e.xp6(4),e.Q6J("ngIf",a.authService.activeorder.transport_types),e.xp6(1),e.Q6J("ngIf",(null==a.authService.activeorder?null:a.authService.activeorder.transport_type)&&!(null!=a.authService.activeorder&&a.authService.activeorder.transport_types)),e.xp6(3),e.Oqu(e.lcZ(41,33,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430")),e.xp6(3),e.Oqu(a.returnNameCargoType(null==a.authService.activeorder?null:a.authService.activeorder.type_cargo)),e.xp6(1),e.Q6J("ngIf",a.authService.activeorder.no_cash),e.xp6(1),e.Q6J("ngIf",a.authService.activeorder.adr),e.xp6(1),e.Q6J("ngIf",a.authService.activeorder.secure_transaction),e.xp6(3),e.Oqu(e.lcZ(50,35,"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430")),e.xp6(3),e.hij("",a.authService.activeorder.weight," \u043a\u0433."),e.xp6(3),e.Oqu(e.lcZ(56,37,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c")),e.xp6(3),e.Oqu(a.authService.activeorder.usernameorder),e.xp6(1),e.Q6J("ngIf",a.authService.activeorder.userphoneorder),e.xp6(2),e.Oqu(e.lcZ(62,39,"\u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c")),e.xp6(3),e.Oqu(e.lcZ(65,41,"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437")))},dependencies:[m.sg,m.O5,d.W2,v.E,m.uU,w.X$],styles:[".table-info[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:50px;padding:0 0 0 15px!important}"]})}return r})()}];let T=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=e.oAB({type:r});static#r=this.\u0275inj=e.cJS({imports:[A.Bz.forChild(C),A.Bz]})}return r})();var U=n(324),f=n(2319);let I=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=e.oAB({type:r});static#r=this.\u0275inj=e.cJS({imports:[m.ez,i.u5,d.Pc,T,U.HeaderPageModule,f.h,w.aw]})}return r})()},324:(G,L,n)=>{n.r(L),n.d(L,{HeaderPageModule:()=>h});var m=n(6814),i=n(6223),d=n(7331),A=n(6800),P=n(2486),O=n(2029);const M=[{path:"",component:P.E}];let b=(()=>{class e{static#e=this.\u0275fac=function(v){return new(v||e)};static#t=this.\u0275mod=O.oAB({type:e});static#r=this.\u0275inj=O.cJS({imports:[A.Bz.forChild(M),A.Bz]})}return e})(),h=(()=>{class e{static#e=this.\u0275fac=function(v){return new(v||e)};static#t=this.\u0275mod=O.oAB({type:e});static#r=this.\u0275inj=O.cJS({imports:[m.ez,i.u5,d.Pc,b]})}return e})()},2486:(G,L,n)=>{n.d(L,{E:()=>h});var m=n(5861),i=n(5053),d=n(2029),A=n(6800),P=n(3248),O=n(2545);let M=(()=>{class e{constructor(s,v){this.router=s,this.authService=v}init(){try{P.V.requestPermissions().then(s=>{"granted"===s.receive?(console.log("We have permission to send push notifications"),P.V.register()):console.log("We do not have permission to send push notifications")}),P.V.addListener("registration",s=>{console.log("saveDeviceToken",s.value),this.authService.saveDeviceToken(s.value).subscribe()}),P.V.addListener("registrationError",s=>{console.error("Error with Push plugin",s)}),P.V.addListener("pushNotificationReceived",s=>{console.log("Push received: ",s)}),P.V.addListener("pushNotificationActionPerformed",s=>{console.log("Push action performed: ",s)})}catch(s){console.log(s)}}static#e=this.\u0275fac=function(v){return new(v||e)(d.LFG(A.F0),d.LFG(O.$))};static#t=this.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var b=n(7331);let h=(()=>{class e{constructor(s,v,w,j,Q){this.router=s,this.pushService=v,this.menu=w,this.authService=j,this.modalCtrl=Q}ngOnInit(){}menuOpened(){var s=this;return(0,m.Z)(function*(){yield s.menu.toggle()})()}goToNotify(){this.router.navigate(["/notify"])}openTestPage(){var s=this;return(0,m.Z)(function*(){const v=yield s.modalCtrl.create({component:i.b,showBackdrop:!0,breakpoints:[0,.6],initialBreakpoint:.6,presentingElement:yield s.modalCtrl.getTop(),backdropDismiss:!0,cssClass:"modalCss",mode:"ios"});yield v.present(),yield v.onWillDismiss()})()}returnLogo(){return"ru"===this.authService.language?"/assets/logos/rus-oq.png":"tr"===this.authService.language?"/assets/logos/turk-oq.png.png":"en"===this.authService.language?"/assets/logos/english-oq.png":void 0}static#e=this.\u0275fac=function(v){return new(v||e)(d.Y36(A.F0),d.Y36(M),d.Y36(b._q),d.Y36(O.$),d.Y36(b.IN))};static#t=this.\u0275cmp=d.Xpm({type:e,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"header","ion-padding"],[1,"header__left",3,"click"],["src","assets/img/menu.svg","alt",""],["src","/assets/logos/tirgo-logo.png","alt","\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",1,"header__logo"],[1,"header__right",3,"click"],["src","assets/img/notification.svg","alt",""]],template:function(v,w){1&v&&(d.TgZ(0,"ion-header")(1,"header",0)(2,"button",1),d.NdJ("click",function(){return w.menuOpened()}),d._UZ(3,"img",2),d.qZA(),d._UZ(4,"img",3),d.TgZ(5,"button",4),d.NdJ("click",function(){return w.goToNotify()}),d._UZ(6,"img",5),d.qZA()()())},dependencies:[b.Gu],styles:[".header[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:1fr auto 1fr;color:#fff;padding-top:calc(.9375rem + env(safe-area-inset-top))!important}.header__left[_ngcontent-%COMP%]{padding:.3125rem;justify-self:start}.header__logo[_ngcontent-%COMP%]{width:11.25rem}.header__title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;justify-self:center}.header__right[_ngcontent-%COMP%]{padding:.3125rem;justify-self:right}.header__right[_ngcontent-%COMP%]   i.icm-notif[_ngcontent-%COMP%]{font-size:1.375rem}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none!important}"]})}return e})()},5053:(G,L,n)=>{n.d(L,{b:()=>O});var m=n(5861),i=n(2029),d=n(2545),A=n(7331),P=n(6223);let O=(()=>{class M{constructor(h,e){this.authService=h,this.modalCtrl=e,this.star=5,this.comment=""}ngOnInit(){}setRaiting(){var h=this;return(0,m.Z)(function*(){(yield h.authService.setRaiting(h.orderid,h.star,h.comment,h.userid).toPromise()).status&&(yield h.authService.alert("\u041e\u0442\u043b\u0438\u0447\u043d\u043e","\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u043e\u0446\u0435\u043d\u0438\u043b\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430."),yield h.modalCtrl.dismiss())})()}static#e=this.\u0275fac=function(e){return new(e||M)(i.Y36(d.$),i.Y36(A.IN))};static#t=this.\u0275cmp=i.Xpm({type:M,selectors:[["app-setraiting"]],inputs:{orderid:"orderid",userid:"userid"},decls:13,vars:6,consts:[[1,"raiting-page"],[1,"stars"],[3,"name","click"],["type","text","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,Z){1&e&&(i.TgZ(0,"ion-content")(1,"div",0)(2,"h2"),i._uU(3,"\u041e\u0446\u0435\u043d\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),i.qZA(),i.TgZ(4,"div",1)(5,"ion-icon",2),i.NdJ("click",function(){return Z.star=1}),i.qZA(),i.TgZ(6,"ion-icon",2),i.NdJ("click",function(){return Z.star=2}),i.qZA(),i.TgZ(7,"ion-icon",2),i.NdJ("click",function(){return Z.star=3}),i.qZA(),i.TgZ(8,"ion-icon",2),i.NdJ("click",function(){return Z.star=4}),i.qZA(),i.TgZ(9,"ion-icon",2),i.NdJ("click",function(){return Z.star=5}),i.qZA()(),i.TgZ(10,"input",3),i.NdJ("ngModelChange",function(v){return Z.comment=v}),i.qZA(),i.TgZ(11,"button",4),i.NdJ("click",function(){return Z.setRaiting()}),i._uU(12,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443"),i.qZA()()()),2&e&&(i.xp6(5),i.Q6J("name",Z.star>=1?"star":"star-outline"),i.xp6(1),i.Q6J("name",Z.star>=2?"star":"star-outline"),i.xp6(1),i.Q6J("name",Z.star>=3?"star":"star-outline"),i.xp6(1),i.Q6J("name",Z.star>=4?"star":"star-outline"),i.xp6(1),i.Q6J("name",Z.star>=5?"star":"star-outline"),i.xp6(1),i.Q6J("ngModel",Z.comment))},dependencies:[P.Fj,P.JJ,P.On,A.W2,A.gu],styles:[".raiting-page[_ngcontent-%COMP%]{height:400px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column}.raiting-page[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:20px;width:80%;outline:none;background:#252333;border:none;border-radius:4px;height:56px;padding:0 0 0 15px;font-family:Montserrat,sans-serif;font-style:normal;font-weight:500;font-size:14px;line-height:16px;color:#cfd2d8;box-sizing:border-box}.raiting-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:0;color:#fff}.raiting-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;text-align:center;color:#fff}.raiting-page[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{margin-top:20px}.raiting-page[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:5px;color:#ed901e;font-size:3em}.raiting-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:80%;margin-top:20px;border-radius:10px;background:#403c5f}"]})}return M})()},9234:(G,L,n)=>{n.d(L,{Uw:()=>V,fo:()=>w});var m=n(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var b=function(l){return l.Unimplemented="UNIMPLEMENTED",l.Unavailable="UNAVAILABLE",l}(b||{});class h extends Error{constructor(t,u){super(t),this.message=t,this.code=u}}const Z=l=>{var t,u,g,C,T;const U=l.CapacitorCustomPlatform||null,f=l.Capacitor||{},I=f.Plugins=f.Plugins||{},r=l.CapacitorPlatforms,c=(null===(t=r?.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==U?U.name:(l=>{var t,u;return l?.androidBridge?"android":null!==(u=null===(t=l?.webkit)||void 0===t?void 0:t.messageHandlers)&&void 0!==u&&u.bridge?"ios":"web"})(l)),a=(null===(u=r?.currentPlatform)||void 0===u?void 0:u.isNativePlatform)||(()=>"web"!==c()),N=(null===(g=r?.currentPlatform)||void 0===g?void 0:g.isPluginAvailable)||(p=>{const _=K.get(p);return!(!_?.platforms.has(c())&&!J(p))}),J=(null===(C=r?.currentPlatform)||void 0===C?void 0:C.getPluginHeader)||(p=>{var _;return null===(_=f.PluginHeaders)||void 0===_?void 0:_.find(R=>R.name===p)}),K=new Map,se=(null===(T=r?.currentPlatform)||void 0===T?void 0:T.registerPlugin)||((p,_={})=>{const R=K.get(p);if(R)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),R.proxy;const H=c(),k=J(p);let B;const ue=function(){var y=(0,m.Z)(function*(){return!B&&H in _?B=B="function"==typeof _[H]?yield _[H]():_[H]:null!==U&&!B&&"web"in _&&(B=B="function"==typeof _.web?yield _.web():_.web),B});return function(){return y.apply(this,arguments)}}(),X=y=>{let S;const D=(...W)=>{const q=ue().then(x=>{const $=((y,S)=>{var D,W;if(!k){if(y)return null===(W=y[S])||void 0===W?void 0:W.bind(y);throw new h(`"${p}" plugin is not implemented on ${H}`,b.Unimplemented)}{const q=k?.methods.find(x=>S===x.name);if(q)return"promise"===q.rtype?x=>f.nativePromise(p,S.toString(),x):(x,$)=>f.nativeCallback(p,S.toString(),x,$);if(y)return null===(D=y[S])||void 0===D?void 0:D.bind(y)}})(x,y);if($){const z=$(...W);return S=z?.remove,z}throw new h(`"${p}.${y}()" is not implemented on ${H}`,b.Unimplemented)});return"addListener"===y&&(q.remove=(0,m.Z)(function*(){return S()})),q};return D.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:y,writable:!1,configurable:!1}),D},ne=X("addListener"),ie=X("removeListener"),ce=(y,S)=>{const D=ne({eventName:y},S),W=function(){var x=(0,m.Z)(function*(){const $=yield D;ie({eventName:y,callbackId:$},S)});return function(){return x.apply(this,arguments)}}(),q=new Promise(x=>D.then(()=>x({remove:W})));return q.remove=(0,m.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield W()}),q},ee=new Proxy({},{get(y,S){switch(S){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?ce:ne;case"removeListener":return ie;default:return X(S)}}});return I[p]=ee,K.set(p,{name:p,proxy:ee,platforms:new Set([...Object.keys(_),...k?[H]:[]])}),ee});return f.convertFileSrc||(f.convertFileSrc=p=>p),f.getPlatform=c,f.handleError=p=>l.console.error(p),f.isNativePlatform=a,f.isPluginAvailable=N,f.pluginMethodNoop=(p,_,R)=>Promise.reject(`${R} does not have an implementation of "${_}".`),f.registerPlugin=se,f.Exception=h,f.DEBUG=!!f.DEBUG,f.isLoggingEnabled=!!f.isLoggingEnabled,f.platform=f.getPlatform(),f.isNative=f.isNativePlatform(),f},v=(l=>l.Capacitor=Z(l))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),w=v.registerPlugin;class V{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,u){var g=this;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(u);const T=this.windowListeners[t];T&&!T.registered&&this.addWindowListener(T);const U=function(){var I=(0,m.Z)(function*(){return g.removeListener(t,u)});return function(){return I.apply(this,arguments)}}(),f=Promise.resolve({remove:U});return Object.defineProperty(f,"remove",{value:(I=(0,m.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield U()}),function(){return I.apply(this,arguments)})}),f;var I}removeAllListeners(){var t=this;return(0,m.Z)(function*(){t.listeners={};for(const u in t.windowListeners)t.removeWindowListener(t.windowListeners[u]);t.windowListeners={}})()}notifyListeners(t,u){const g=this.listeners[t];g&&g.forEach(C=>C(u))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,u){this.windowListeners[u]={registered:!1,windowEventName:t,pluginEventName:u,handler:g=>{this.notifyListeners(u,g)}}}unimplemented(t="not implemented"){return new v.Exception(t,b.Unimplemented)}unavailable(t="not available"){return new v.Exception(t,b.Unavailable)}removeListener(t,u){var g=this;return(0,m.Z)(function*(){const C=g.listeners[t];if(!C)return;const T=C.indexOf(u);g.listeners[t].splice(T,1),g.listeners[t].length||g.removeWindowListener(g.windowListeners[t])})()}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}}}]);
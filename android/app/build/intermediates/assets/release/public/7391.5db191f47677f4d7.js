"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7391,324],{324:(b,_,i)=>{i.r(_),i.d(_,{HeaderPageModule:()=>l});var m=i(6814),e=i(6223),a=i(7331),p=i(6800),d=i(2486),h=i(2029);const f=[{path:"",component:d.E}];let t=(()=>{class r{static#t=this.\u0275fac=function(u){return new(u||r)};static#e=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[p.Bz.forChild(f),p.Bz]})}return r})(),l=(()=>{class r{static#t=this.\u0275fac=function(u){return new(u||r)};static#e=this.\u0275mod=h.oAB({type:r});static#i=this.\u0275inj=h.cJS({imports:[m.ez,e.u5,a.Pc,t]})}return r})()},2486:(b,_,i)=>{i.d(_,{E:()=>l});var m=i(5861),e=i(5053),a=i(2029),p=i(6800),d=i(3248),h=i(2545);let f=(()=>{class r{constructor(n,u){this.router=n,this.authService=u}init(){try{d.V.requestPermissions().then(n=>{"granted"===n.receive?(console.log("We have permission to send push notifications"),d.V.register()):console.log("We do not have permission to send push notifications")}),d.V.addListener("registration",n=>{console.log("saveDeviceToken",n.value),this.authService.saveDeviceToken(n.value).subscribe()}),d.V.addListener("registrationError",n=>{console.error("Error with Push plugin",n)}),d.V.addListener("pushNotificationReceived",n=>{console.log("Push received: ",n)}),d.V.addListener("pushNotificationActionPerformed",n=>{console.log("Push action performed: ",n)})}catch(n){console.log(n)}}static#t=this.\u0275fac=function(u){return new(u||r)(a.LFG(p.F0),a.LFG(h.$))};static#e=this.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var t=i(7331);let l=(()=>{class r{constructor(n,u,P,S,M){this.router=n,this.pushService=u,this.menu=P,this.authService=S,this.modalCtrl=M}ngOnInit(){}menuOpened(){var n=this;return(0,m.Z)(function*(){yield n.menu.toggle()})()}goToNotify(){this.router.navigate(["/notify"])}openTestPage(){var n=this;return(0,m.Z)(function*(){const u=yield n.modalCtrl.create({component:e.b,showBackdrop:!0,breakpoints:[0,.6],initialBreakpoint:.6,presentingElement:yield n.modalCtrl.getTop(),backdropDismiss:!0,cssClass:"modalCss",mode:"ios"});yield u.present(),yield u.onWillDismiss()})()}returnLogo(){return"ru"===this.authService.language?"/assets/logos/rus-oq.png":"tr"===this.authService.language?"/assets/logos/turk-oq.png.png":"en"===this.authService.language?"/assets/logos/english-oq.png":void 0}static#t=this.\u0275fac=function(u){return new(u||r)(a.Y36(p.F0),a.Y36(f),a.Y36(t._q),a.Y36(h.$),a.Y36(t.IN))};static#e=this.\u0275cmp=a.Xpm({type:r,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"header","ion-padding"],[1,"header__left",3,"click"],["src","assets/img/menu.svg","alt",""],["src","/assets/logos/tirgo-logo.png","alt","\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",1,"header__logo"],[1,"header__right",3,"click"],["src","assets/img/notification.svg","alt",""]],template:function(u,P){1&u&&(a.TgZ(0,"ion-header")(1,"header",0)(2,"button",1),a.NdJ("click",function(){return P.menuOpened()}),a._UZ(3,"img",2),a.qZA(),a._UZ(4,"img",3),a.TgZ(5,"button",4),a.NdJ("click",function(){return P.goToNotify()}),a._UZ(6,"img",5),a.qZA()()())},dependencies:[t.Gu],styles:[".header[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:1fr auto 1fr;color:#fff;padding-top:calc(.9375rem + env(safe-area-inset-top))!important}.header__left[_ngcontent-%COMP%]{padding:.3125rem;justify-self:start}.header__logo[_ngcontent-%COMP%]{width:11.25rem}.header__title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;justify-self:center}.header__right[_ngcontent-%COMP%]{padding:.3125rem;justify-self:right}.header__right[_ngcontent-%COMP%]   i.icm-notif[_ngcontent-%COMP%]{font-size:1.375rem}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none!important}"]})}return r})()},7391:(b,_,i)=>{i.r(_),i.d(_,{ServicesListModule:()=>x});var m=i(6814),e=i(6223),a=i(7331),p=i(2319),d=i(3911),h=i(6800),f=i(5897),t=i(2029),l=i(2545),r=i(8720),g=i(2270);function n(c,C){1&c&&t._UZ(0,"div")}function u(c,C){1&c&&(t.TgZ(0,"span"),t._uU(1,"\u0441\u0443\u043c"),t.qZA())}function P(c,C){if(1&c){const s=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){const T=t.CHM(s).$implicit,A=t.oxw();return t.KtG(A.selectService(T))}),t.TgZ(1,"div")(2,"div",9),t.YNc(3,n,1,0,"div",10),t.qZA()(),t.TgZ(4,"div")(5,"p",11)(6,"span"),t._uU(7),t.qZA()(),t.TgZ(8,"p",12),t._uU(9,"\u0426\u0435\u043d\u0430: "),t.TgZ(10,"span",13),t._uU(11),t.ALo(12,"numberFormat"),t.YNc(13,u,2,0,"span",10),t.qZA()()()()}if(2&c){const s=C.$implicit;t.ekj("active",s.selected),t.xp6(3),t.Q6J("ngIf",s.selected),t.xp6(4),t.Oqu(s.name),t.xp6(4),t.hij(" ",0==s.price_uzs?"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e(\u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0432 \u0422\u0438\u0440\u0433\u043e)":t.lcZ(12,6,s.price_uzs)," "),t.xp6(2),t.Q6J("ngIf",0!=s.price_uzs)}}function S(c,C){if(1&c){const s=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(s);const v=t.oxw();return t.KtG(v.submit())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&c){const s=t.oxw();t.Q6J("disabled",0==(null==s.selectedServices?null:s.selectedServices.length)||s.loading),t.xp6(1),t.Oqu(t.lcZ(2,2,"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"))}}const O=[{path:"",component:(()=>{class c{constructor(s,o,v){this.authService=s,this.router=o,this.navCtrl=v,this.loading=!1,this.services=[],this.selectedServices=[],this.alpha_balance=0,this.amount_sum=0,this.formattedData=[]}ngOnInit(){this.loading=!1,this.getServiceList(),this.getAlphaBalance()}getServiceList(){this.authService.getServicesList().subscribe(s=>{s.status&&(this.services=s.data)})}getAlphaBalance(){this.authService.getAlhpaBalance(this.authService.currentUser.id).subscribe(s=>{s.status&&(this.alpha_balance=s.total_balance)})}selectService(s){s.selected=!s.selected,this.selectedServices=this.services.filter(o=>o.selected)}submit(){if(this.authService.currentUser.issubscription)if(this.amount_sum=this.selectedServices.reduce((s,o)=>s+Number(o.price_uzs),0),this.amount_sum>this.alpha_balance){this.loading=!1;let s=btoa("m=65dc59df3c319dec9d8c3953;ac.UserID="+this.authService.currentUser.id+";a="+(+this.amount_sum-+this.alpha_balance)+"00");f.A.open({url:"https://checkout.paycom.uz/"+s,windowName:"_system"}),this.amount_sum=0}else this.formattedData=[],this.selectedServices.forEach(o=>{this.formattedData.push({services_id:o.id,price_uzs:o.price_uzs,price_kzs:o.price_kzs,rate:o.rate})}),this.authService.freeService({phone:this.authService.currentUser.phone,user_id:this.authService.currentUser.id,services:this.formattedData}).subscribe(o=>{o.status&&(this.loading=!1,this.authService.alert("\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0430 !",""),this.router.navigate(["/tabs/home"]))},o=>{(o.error.error="\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441\u0435")&&(this.loading=!1,this.router.navigate(["/balance"]),this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",o.error.error))});else this.loading=!1,this.authService.alert("\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0443\u0441\u043b\u0443\u0433\u0430\u043c\u0438 \u0422\u0438\u0440\u0433\u043e",""),this.router.navigate(["/addsubscribe"])}back(){this.navCtrl.back()}static#t=this.\u0275fac=function(o){return new(o||c)(t.Y36(l.$),t.Y36(h.F0),t.Y36(r.SH))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-services-list"]],decls:14,vars:5,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"top-back",3,"click"],["src","assets/img/arrow-left.svg","alt",""],[1,"wrapper-fluid","ion-padding-tabs"],[1,"body-wrap","form-block"],["class","price-card",3,"active","click",4,"ngFor","ngForOf"],["class","reg-btn","style","background-color: rgba(255, 113, 0, 1); margin-top: 20px;",3,"disabled","click",4,"ngIf"],[1,"price-card",3,"click"],[1,"radio"],[4,"ngIf"],[1,"month-text"],[1,"price-text"],[2,"font-weight","bold"],[1,"reg-btn",2,"background-color","rgba(255, 113, 0, 1)","margin-top","20px",3,"disabled","click"]],template:function(o,v){1&o&&(t.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"button",2),t.NdJ("click",function(){return v.back()}),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"div"),t.qZA()()(),t.TgZ(9,"ion-content")(10,"div",4)(11,"div",5),t.YNc(12,P,14,8,"div",6),t.YNc(13,S,3,4,"button",7),t.qZA()()()),2&o&&(t.xp6(6),t.Oqu(t.lcZ(7,3,"\u0423\u0441\u043b\u0443\u0433\u0438 Tirgo Service")),t.xp6(6),t.Q6J("ngForOf",v.services),t.xp6(1),t.Q6J("ngIf",v.services))},dependencies:[m.sg,m.O5,a.W2,a.Gu,g.p,d.X$],styles:[".price-card[_ngcontent-%COMP%]{display:flex;align-items:center;border:2px solid #ccc;border-radius:10px;padding:10px;width:100%;gap:20px;margin:5px 0}.radio[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:30px;width:30px;background-color:#ccc;border-radius:50%}.radio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%;background-color:#ff7100}.price-card.active[_ngcontent-%COMP%]{border:3px solid rgb(255,113,0)}"]})}return c})()}];let Z=(()=>{class c{static#t=this.\u0275fac=function(o){return new(o||c)};static#e=this.\u0275mod=t.oAB({type:c});static#i=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(O),h.Bz]})}return c})();var y=i(324);let x=(()=>{class c{static#t=this.\u0275fac=function(o){return new(o||c)};static#e=this.\u0275mod=t.oAB({type:c});static#i=this.\u0275inj=t.cJS({imports:[m.ez,e.u5,a.Pc,Z,p.h,d.aw,y.HeaderPageModule]})}return c})()},5053:(b,_,i)=>{i.d(_,{b:()=>h});var m=i(5861),e=i(2029),a=i(2545),p=i(7331),d=i(6223);let h=(()=>{class f{constructor(l,r){this.authService=l,this.modalCtrl=r,this.star=5,this.comment=""}ngOnInit(){}setRaiting(){var l=this;return(0,m.Z)(function*(){(yield l.authService.setRaiting(l.orderid,l.star,l.comment,l.userid).toPromise()).status&&(yield l.authService.alert("\u041e\u0442\u043b\u0438\u0447\u043d\u043e","\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u043e\u0446\u0435\u043d\u0438\u043b\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430."),yield l.modalCtrl.dismiss())})()}static#t=this.\u0275fac=function(r){return new(r||f)(e.Y36(a.$),e.Y36(p.IN))};static#e=this.\u0275cmp=e.Xpm({type:f,selectors:[["app-setraiting"]],inputs:{orderid:"orderid",userid:"userid"},decls:13,vars:6,consts:[[1,"raiting-page"],[1,"stars"],[3,"name","click"],["type","text","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",3,"ngModel","ngModelChange"],[3,"click"]],template:function(r,g){1&r&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"h2"),e._uU(3,"\u041e\u0446\u0435\u043d\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),e.qZA(),e.TgZ(4,"div",1)(5,"ion-icon",2),e.NdJ("click",function(){return g.star=1}),e.qZA(),e.TgZ(6,"ion-icon",2),e.NdJ("click",function(){return g.star=2}),e.qZA(),e.TgZ(7,"ion-icon",2),e.NdJ("click",function(){return g.star=3}),e.qZA(),e.TgZ(8,"ion-icon",2),e.NdJ("click",function(){return g.star=4}),e.qZA(),e.TgZ(9,"ion-icon",2),e.NdJ("click",function(){return g.star=5}),e.qZA()(),e.TgZ(10,"input",3),e.NdJ("ngModelChange",function(u){return g.comment=u}),e.qZA(),e.TgZ(11,"button",4),e.NdJ("click",function(){return g.setRaiting()}),e._uU(12,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443"),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("name",g.star>=1?"star":"star-outline"),e.xp6(1),e.Q6J("name",g.star>=2?"star":"star-outline"),e.xp6(1),e.Q6J("name",g.star>=3?"star":"star-outline"),e.xp6(1),e.Q6J("name",g.star>=4?"star":"star-outline"),e.xp6(1),e.Q6J("name",g.star>=5?"star":"star-outline"),e.xp6(1),e.Q6J("ngModel",g.comment))},dependencies:[d.Fj,d.JJ,d.On,p.W2,p.gu],styles:[".raiting-page[_ngcontent-%COMP%]{height:400px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column}.raiting-page[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:20px;width:80%;outline:none;background:#252333;border:none;border-radius:4px;height:56px;padding:0 0 0 15px;font-family:Montserrat,sans-serif;font-style:normal;font-weight:500;font-size:14px;line-height:16px;color:#cfd2d8;box-sizing:border-box}.raiting-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:0;color:#fff}.raiting-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;text-align:center;color:#fff}.raiting-page[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{margin-top:20px}.raiting-page[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:5px;color:#ed901e;font-size:3em}.raiting-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:80%;margin-top:20px;border-radius:10px;background:#403c5f}"]})}return f})()}}]);
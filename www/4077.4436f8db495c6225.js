"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4077,324],{4077:(P,b,a)=>{a.r(b),a.d(b,{BalanceServicePageModule:()=>J});var m=a(6814),n=a(6223),s=a(1232),_=a(324),g=a(3911),h=a(6800),v=a(5861),C=a(5897),e=a(2029),l=a(8720),p=a(2545),c=a(4409),d=a(2270);function Z(u,S){1&u&&(e.TgZ(0,"div",24),e._UZ(1,"ion-spinner",25),e.qZA())}function T(u,S){1&u&&(e.TgZ(0,"div",24),e._UZ(1,"ion-spinner",25),e.qZA())}function y(u,S){if(1&u&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&u){const t=S.$implicit;e.Q6J("value",t.Code),e.xp6(1),e.Oqu(t.Ccy)}}function M(u,S){if(1&u&&(e.TgZ(0,"p",30),e._uU(1),e._UZ(2,"span"),e.qZA()),2&u){const t=e.oxw(2);e.xp6(1),e.hij("\u0411\u0430\u043b\u0430\u043d\u0441 \u0433\u0440\u0443\u043f\u043f\u044b: ",t.authService.currentUser.group_balance," Tir ")}}function x(u,S){if(1&u&&(e.TgZ(0,"div",45)(1,"div",46)(2,"div",47),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"numberFormat"),e.qZA()()()),2&u){const t=S.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(0==t.price_uzs&&0==t.without_subscription?"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e":e.lcZ(6,2,t.price_uzs)+" \u0441\u0443\u043c")}}function B(u,S){1&u&&(e.TgZ(0,"span"),e._uU(1,"Tir"),e.qZA())}function O(u,S){if(1&u&&(e.TgZ(0,"div",48)(1,"div",49)(2,"span"),e._uU(3,"ID \u0437\u0430\u043a\u0430\u0437\u0430:"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div",49)(7,"span"),e._uU(8,"ID \u0443\u0441\u043b\u0443\u0433\u0438:"),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"div",49)(12,"span"),e._uU(13,"\u0422\u0438\u043f:"),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"div",49)(17,"span"),e._uU(18,"\u0421\u0443\u043c\u043c\u0430:"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.ALo(21,"numberFormat"),e.YNc(22,B,2,0,"span",23),e.qZA()(),e.TgZ(23,"div",49)(24,"span"),e._uU(25,"\u0414\u0430\u0442\u0430:"),e.qZA(),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"date"),e.qZA()()()),2&u){const t=S.$implicit;e.xp6(5),e.Oqu(t.id),e.xp6(5),e.Oqu(t.service_id),e.xp6(5),e.Oqu(t.name),e.xp6(5),e.hij("",0==t.price_uzs?"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e(\u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0432 \u0422\u0438\u0440\u0433\u043e)":e.lcZ(21,6,t.price_uzs)," "),e.xp6(2),e.Q6J("ngIf",0!=t.price_uzs),e.xp6(5),e.hij("",e.xi3(28,8,t.createAt,"dd.MM.YYYY")," ")}}function U(u,S){if(1&u){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28),e._UZ(2,"img",29),e.TgZ(3,"p",30),e._uU(4),e._UZ(5,"span"),e.qZA(),e.YNc(6,M,3,1,"p",31),e.qZA(),e.TgZ(7,"button",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goToSupportAdmin())}),e._UZ(8,"img",33),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"p",34)(13,"b"),e._uU(14,"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0441\u043b\u0443\u0433\u0438"),e.qZA()(),e.TgZ(15,"ion-segment",35),e.NdJ("ionChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.segmentChanged(o))}),e.TgZ(16,"ion-segment-button",36)(17,"ion-label",37),e._uU(18,"\u0421 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u043e\u0439"),e.qZA()(),e.TgZ(19,"ion-segment-button",38)(20,"ion-label",37),e._uU(21,"\u0411\u0435\u0437 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"),e.qZA()()(),e.YNc(22,x,7,4,"div",39),e.TgZ(23,"ion-accordion-group",40)(24,"ion-accordion",41)(25,"ion-item",42)(26,"ion-label"),e._uU(27,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0439 \u0443\u0441\u043b\u0443\u0433"),e.qZA()(),e.TgZ(28,"div",43),e.YNc(29,O,29,11,"div",44),e.qZA()()()()}if(2&u){const t=e.oxw();e.xp6(4),e.hij("\u0411\u0430\u043b\u0430\u043d\u0441: ",t.alpha_balance," Tir "),e.xp6(2),e.Q6J("ngIf",t.authService.currentUser.group_balance),e.xp6(4),e.Oqu(e.lcZ(11,5,"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043c \u0434\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f")),e.xp6(12),e.Q6J("ngForOf",t.showedServices),e.xp6(7),e.Q6J("ngForOf",t.history)}}function w(u,S){1&u&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title",50),e._uU(3,"\u0412\u0430\u0448\u0430 \u0437\u0430\u044f\u0432\u043a\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0430 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443"),e.qZA()(),e.TgZ(4,"ion-button",51),e._uU(5,"OK"),e.qZA()())}const F=[{path:"",component:(()=>{class u{constructor(t,i,o,r,f,A){this.navCtrl=t,this.authService=i,this.socketService=o,this.route=r,this.router=f,this.cdr=A,this.loading=!1,this.tirLoader=!1,this.amountLoader=!1,this.selectmethodpay="click",this.amount="",this.payConfirm=!1,this.selectedServices=[],this.amount_sum=0,this.formattedData=[],this.alpha_balance=0,this.showTgButton=!1,this.servicesWithSubscription=[],this.servicesWithoutSubscription=[],this.data={tir:1,currencyCode:"860",amount:1e3},this.exchanges=[{Ccy:"UZS",Code:"860"},{Ccy:"USD",Code:"840"},{Ccy:"KZT",Code:"398"},{Ccy:"RUB",Code:"643"},{Ccy:"EUR",Code:"978"}]}ngOnInit(){this.route.queryParamMap.subscribe(t=>{t&&(this.subscriptionId=t.get("subscription_id"))}),this.getHistory(),this.checkShowButton(),this.updateDriverBalance(),this.getPrice(),this.socketService.updateTirgoServiceBalance().subscribe(t=>{this.getPrice(),this.getHistory(),this.checkShowButton(),this.updateDriverBalance(),this.cdr.detectChanges()}),this.socketService.updateTirgoServices().subscribe(t=>{this.getPrice(),this.cdr.detectChanges()}),this.getTirBalance(),this.valueChanged("tir")}getHistory(){this.authService.serviceHistory(this.authService.currentUser.id).subscribe(t=>{t.status&&(this.history=Array.isArray(t.data)?t.data.slice(0,10):[])})}getTirBalance(){this.authService.getTirBalance(this.authService.currentUser).subscribe(t=>{t&&t.status&&(this.alpha_balance=t.data.serviceBalance)})}valueChanged(t){"tir"==t&&this.data.tir&&(this.tirLoader=!0,this.data.amount=null,this.authService.convertCurrency(this.data).subscribe(i=>{this.data.amount=+this.translateString(i.data.amount),this.tirLoader=!1},i=>{this.tirLoader=!1})),"amount"==t&&this.data.amount&&(this.amountLoader=!0,this.data.tir=null,this.authService.convertCurrency(this.data).subscribe(i=>{this.data.tir=+this.translateString(i.data.amount),this.amountLoader=!1},i=>{this.amountLoader=!1}))}translateString(t){let i,o,r;return!isNaN(t)&&"string"==typeof t&&([i,o]=t.split("."),r=o.slice(0,2)),i+"."+r}segmentChanged(t){const i=t.detail.value;"subscribe"===i?this.showedServices=this.servicesWithSubscription:"unsubscribe"===i&&(this.showedServices=this.servicesWithoutSubscription)}getPrice(){this.authService.getServicesList().subscribe(t=>{t.status&&(this.services=t.data,this.servicesWithoutSubscription=t.data.filter(i=>i.without_subscription),this.servicesWithSubscription=t.data.filter(i=>!i.without_subscription),this.showedServices=this.servicesWithSubscription)})}selectPrice(t){t.selected=!t.selected,this.selectedServices=this.services.filter(i=>i.selected),console.log(this.selectedServices)}back(){this.router.navigate(["/tabs/home"]),this.services.forEach((t,i)=>{t.selected&&(t.selected=!1)})}pay(){var t=this;return(0,v.Z)(function*(){t.authService.checkSession().subscribe(o=>{o&&(t.authService.currentUser.group_balance=o.user.groupBalance)}),t.checkSelectedServices();let i=t.authService.currentUser;if(t.compareSubscription(t.selectedServices))if(t.compareWithoutSubscription(t.selectedServices))t.formattedData=t.selectedServices.map(r=>({services_id:r.id,price_uzs:r.price_uzs,price_kzs:r.price_kzs,rate:r.rate,without_subscription:r.without_subscription})),t.authService.freeService({phone:i.phone,user_id:i.id,services:t.formattedData}).subscribe(r=>{r.status&&(t.loading=!1,t.getHistory(),t.authService.alertPayAndRedirectTg())},r=>{"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441\u0435"===r.error.error?(t.amount_sum=t.selectedServices.reduce((f,A)=>f+Number(A.price_uzs),0),t.authService.alertAcceptPayment(r.error.error+", \u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 \u0447\u0442\u043e\u0431\u044b \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0443",t.selectmethodpay,t.amount_sum-+t.alpha_balance),t.loading=!1,t.amount_sum=0):(t.loading=!1,t.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",r.error.error))});else{if(!i.issubscription)return t.loading=!1,t.authService.alert("\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0443\u0441\u043b\u0443\u0433\u0430\u043c\u0438 \u0422\u0438\u0440\u0433\u043e",""),void t.router.navigate(["/addsubscribe"]);if(t.amount_sum=t.selectedServices.reduce((r,f)=>r+Number(f.price_uzs),0),!t.authService.currentUser.driver_group_id&&t.amount_sum>t.alpha_balance)return t.authService.alertAcceptPayment("\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 \u0447\u0442\u043e\u0431\u044b \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0443",t.selectmethodpay,t.amount_sum-+t.alpha_balance),t.loading=!1,void(t.amount_sum=0);if(t.authService.currentUser.driver_group_id&&t.amount_sum>t.authService.currentUser.group_balance)return void t.authService.alert("","\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441\u0435");if(t.pendingService)return t.loading=!1,void t.authService.alertRedirectTg(t.pendingService.name);t.formattedData=t.selectedServices.map(r=>({services_id:r.id,price_uzs:r.price_uzs,price_kzs:r.price_kzs,rate:r.rate,without_subscription:r.without_subscription})),t.authService.freeService({phone:i.phone,user_id:i.id,services:t.formattedData}).subscribe(r=>{r.status&&(t.loading=!1,t.getHistory(),t.authService.alertPayAndRedirectTg())},r=>{"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441\u0435"===r.error.error||(t.loading=!1),t.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",r.error.error)})}else t.authService.alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0432\u0430\u0440\u0438\u0430\u043d\u0442:\n  \n\n  \u0421\u0435\u0440\u0432\u0438\u0441\u044b \u0441 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u043e\u0439. \n \n \n \u0421\u0435\u0440\u0432\u0438\u0441\u044b \u0431\u0435\u0437 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438. \n \n \u041e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u0435\u043d.","")})()}compareSubscription(t){let i=!1,o=!1;for(let r of t)if(0===r.without_subscription)i=!0;else{if(1!==r.without_subscription)return!1;o=!0}return i!==o}compareWithoutSubscription(t){for(let i of t)if(1!==i.without_subscription)return!1;return!0}checkSelectedServices(){var t=this;return(0,v.Z)(function*(){if(t.pendingService=null,t.formattedData)return t.selectedServices.forEach(i=>{const o=t.history.find(r=>r.service_id==i.id&&(0==r.status||1==r.status));t.pendingService=o||null}),t.pendingService})()}withdrawFromActivebalance(){var t=this;return(0,v.Z)(function*(){t.authService.currentUser.balance>0?t.authService.withdrawBalance(t.authService.currentUser.id).subscribe(i=>{i.status?t.payConfirm=!0:i.status||"No enough balance"!=i.error?!i.status&&"No enough balance"==i.error&&t.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",i.error.toString()):t.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0431\u0430\u043b\u0430\u043d\u0441\u0430")}):yield t.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430","\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0431\u0430\u043b\u0430\u043d\u0441\u0430")})()}updateDriverBalance(){this.socketService.updateDriverBalance().subscribe(t=>{if(t){const i=JSON.parse(t);this.authService.currentUser.balance=i.balance,this.authService.currentUser.balance_off=i.balance_off,this.authService.currentUser.balance_in_proccess=i.balance_in_proccess}})}checkShowButton(){this.authService.checkService(this.authService.currentUser.id).subscribe(t=>{t.status&&(this.showTgButton=t.data?.length>0)})}goToSupportAdmin(){C.A.open({url:"https://t.me/Tirgo_servrice_bot",windowName:"_system"})}doRefresh(t){setTimeout(()=>{t.target.complete(),this.getHistory(),this.getPrice()},1e3)}tabChanged(t){this.selectedServices=[],this.services=this.services.forEach(i=>i.selected=!1),this.services="with"==t.detail.value?this.servicesWithSubsctription:this.servicesWithoutSubsctription}static#e=this.\u0275fac=function(i){return new(i||u)(e.Y36(l.SH),e.Y36(p.$),e.Y36(c.$),e.Y36(h.gz),e.Y36(h.F0),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:u,selectors:[["app-balance"]],decls:35,vars:11,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"top-back",3,"click"],["src","assets/img/arrow-left.svg","alt",""],[1,"ion-no-padding","ion-no-margin"],["slot","fixed","pullFactor","1","pullMin","100","pullMax","200",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles",1,"loadingspinner"],[1,"body-wrap","form-block"],[1,"autorize"],[2,"display","flex","align-items","center","gap","5px"],[1,"input-with-suffix",2,"position","relative"],["type","tel","inputmode","decimal","name","tir",3,"ngModel","ngModelChange"],["tirInput",""],["class","loader-container",4,"ngIf"],[1,"suffix"],[2,"color","white"],[2,"position","relative"],["type","tel","inputmode","number","name","amount",3,"ngModel","ngModelChange"],["amountInput",""],["name","currency",2,"background","#252333","color","#fff","height","55px","border","none","border-radius","4px","outline","none",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"wrapper-fluid"],["class","body-wrap",4,"ngIf"],[4,"ngIf"],[1,"loader-container"],["name","bubbles","color","light"],[3,"value"],[1,"body-wrap"],[1,"cart-wrap"],["src","assets/img/logo.png","alt",""],[1,"cart-wrap-balance",2,"font-weight","bold"],["class","cart-wrap-balance","style","font-weight: bold;",4,"ngIf"],[1,"reg-btn","podpis-buy",2,"background-color","#00ABF1FF","margin","30px 0","display","flex","align-items","center","justify-content","center","gap","10px",3,"click"],["src","assets/img/tg.svg","alt",""],[2,"text-align","center","width","100%"],["value","subscribe",2,"margin","15px 0","height","45px",3,"ionChange"],["value","subscribe"],[2,"color","#fff"],["value","unsubscribe"],["style","width: 100%;",4,"ngFor","ngForOf"],[2,"width","100%","margin-top","20px"],["value","first"],["slot","header",2,"background-color","#1C1A28 !important","color","white"],["slot","content",1,"ion-padding",2,"background-color","#1C1A28 !important","color","white"],["class","price-card","style","display: block !important;margin: 5px 0;",4,"ngFor","ngForOf"],[2,"width","100%"],[2,"margin","5px 0","display","flex","align-items","center","justify-content","space-between","border","1px solid #ccc","color","#fff","padding","10px","border-radius","10px"],[2,"width","70%"],[1,"price-card",2,"display","block !important","margin","5px 0"],[2,"width","100%","color","white","display","flex","gap","10px"],[2,"text-align","center"],["routerLink","/tabs",2,"display","flex"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return o.back()}),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"div"),e.qZA()()(),e.TgZ(9,"ion-content",4)(10,"ion-refresher",5),e.NdJ("ionRefresh",function(f){return o.doRefresh(f)}),e._UZ(11,"ion-refresher-content",6),e.qZA(),e.TgZ(12,"div",7)(13,"div",8)(14,"p")(15,"b"),e._uU(16,"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u043a\u0443\u0440\u0441"),e.qZA()(),e.TgZ(17,"div",9)(18,"div",10)(19,"input",11,12),e.NdJ("ngModelChange",function(f){return o.data.tir=f})("ngModelChange",function(){return o.valueChanged("tir")}),e.qZA(),e.YNc(21,Z,2,0,"div",13),e.TgZ(22,"span",14),e._uU(23,"TIR"),e.qZA()(),e.TgZ(24,"span",15),e._uU(25,"="),e.qZA(),e.TgZ(26,"div",16)(27,"input",17,18),e.NdJ("ngModelChange",function(f){return o.data.amount=f})("ngModelChange",function(){return o.valueChanged("amount")}),e.qZA(),e.YNc(29,T,2,0,"div",13),e.qZA(),e.TgZ(30,"select",19),e.NdJ("ngModelChange",function(f){return o.data.currencyCode=f})("ngModelChange",function(){return o.valueChanged("tir")}),e.YNc(31,y,2,2,"option",20),e.qZA()()()(),e.TgZ(32,"div",21),e.YNc(33,U,30,7,"div",22),e.qZA()(),e.YNc(34,w,6,0,"ion-card",23)),2&i&&(e.xp6(6),e.Oqu(e.lcZ(7,9,"Tirgo Service ")),e.xp6(13),e.Q6J("ngModel",o.data.tir),e.xp6(2),e.Q6J("ngIf",o.amountLoader),e.xp6(6),e.Q6J("ngModel",o.data.amount),e.xp6(2),e.Q6J("ngIf",o.tirLoader),e.xp6(1),e.Q6J("ngModel",o.data.currencyCode),e.xp6(1),e.Q6J("ngForOf",o.exchanges),e.xp6(2),e.Q6J("ngIf",o.authService.currentUser),e.xp6(1),e.Q6J("ngIf",o.payConfirm))},dependencies:[m.sg,m.O5,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.On,s.We,s.eh,s.YG,s.PM,s.Zi,s.Dq,s.W2,s.Gu,s.Ie,s.Q$,s.nJ,s.Wo,s.cJ,s.GO,s.PQ,s.QI,s.YI,h.rH,m.uU,g.X$,d.p],styles:[".price-card[_ngcontent-%COMP%]{display:flex;align-items:center;border:2px solid #ccc;border-radius:10px;padding:10px;width:100%;gap:20px;margin:5px 0}.radio[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:30px;width:30px;background-color:#ccc;border-radius:50%}.radio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%;background-color:#ff7100}.price-card.active[_ngcontent-%COMP%]{border:3px solid rgb(255,113,0)}ion-segment[_ngcontent-%COMP%]{--background: rgba(255, 113, 0, 1)}.input-with-suffix[_ngcontent-%COMP%]{position:relative;display:inline-block}.input-with-suffix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:30px}.input-with-suffix[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none;color:#fff}.loader-container[_ngcontent-%COMP%]{position:absolute;left:5px;top:50%;transform:translateY(-50%);display:flex;align-items:center;justify-content:center;pointer-events:none}"]})}return u})()}];let D=(()=>{class u{static#e=this.\u0275fac=function(i){return new(i||u)};static#t=this.\u0275mod=e.oAB({type:u});static#i=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(F),h.Bz]})}return u})();var E=a(2319);let J=(()=>{class u{static#e=this.\u0275fac=function(i){return new(i||u)};static#t=this.\u0275mod=e.oAB({type:u});static#i=this.\u0275inj=e.cJS({imports:[m.ez,n.u5,s.Pc,D,_.HeaderPageModule,g.aw,E.h]})}return u})()},324:(P,b,a)=>{a.r(b),a.d(b,{HeaderPageModule:()=>e});var m=a(6814),n=a(6223),s=a(1232),_=a(6800),g=a(2486),h=a(2029);const v=[{path:"",component:g.E}];let C=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#i=this.\u0275inj=h.cJS({imports:[_.Bz.forChild(v),_.Bz]})}return l})(),e=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=h.oAB({type:l});static#i=this.\u0275inj=h.cJS({imports:[m.ez,n.u5,s.Pc,C]})}return l})()},2486:(P,b,a)=>{a.d(b,{E:()=>e});var m=a(5861),n=a(5053),s=a(2029),_=a(6800),g=a(3248),h=a(2545);let v=(()=>{class l{constructor(c,d){this.router=c,this.authService=d}init(){try{g.V.requestPermissions().then(c=>{"granted"===c.receive?(console.log("We have permission to send push notifications"),g.V.register()):console.log("We do not have permission to send push notifications")}),g.V.addListener("registration",c=>{console.log("saveDeviceToken",c.value),this.authService.saveDeviceToken(c.value).subscribe()}),g.V.addListener("registrationError",c=>{console.error("Error with Push plugin",c)}),g.V.addListener("pushNotificationReceived",c=>{console.log("Push received: ",c)}),g.V.addListener("pushNotificationActionPerformed",c=>{console.log("Push action performed: ",c)})}catch(c){console.log(c)}}static#e=this.\u0275fac=function(d){return new(d||l)(s.LFG(_.F0),s.LFG(h.$))};static#t=this.\u0275prov=s.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var C=a(1232);let e=(()=>{class l{constructor(c,d,Z,T,y){this.router=c,this.pushService=d,this.menu=Z,this.authService=T,this.modalCtrl=y}ngOnInit(){}menuOpened(){var c=this;return(0,m.Z)(function*(){yield c.menu.toggle()})()}goToNotify(){this.router.navigate(["/notify"])}openTestPage(){var c=this;return(0,m.Z)(function*(){const d=yield c.modalCtrl.create({component:n.b,showBackdrop:!0,breakpoints:[0,.6],initialBreakpoint:.6,presentingElement:yield c.modalCtrl.getTop(),backdropDismiss:!0,cssClass:"modalCss",mode:"ios"});yield d.present(),yield d.onWillDismiss()})()}returnLogo(){return"ru"===this.authService.language?"/assets/logos/rus-oq.png":"tr"===this.authService.language?"/assets/logos/turk-oq.png.png":"en"===this.authService.language?"/assets/logos/english-oq.png":void 0}static#e=this.\u0275fac=function(d){return new(d||l)(s.Y36(_.F0),s.Y36(v),s.Y36(C._q),s.Y36(h.$),s.Y36(C.IN))};static#t=this.\u0275cmp=s.Xpm({type:l,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"header","ion-padding"],[1,"header__left",3,"click"],["src","assets/img/menu.svg","alt",""],["src","/assets/logos/tirgo-logo.png","alt","\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",1,"header__logo"],[1,"header__right",3,"click"],["src","assets/img/notification.svg","alt",""]],template:function(d,Z){1&d&&(s.TgZ(0,"ion-header")(1,"header",0)(2,"button",1),s.NdJ("click",function(){return Z.menuOpened()}),s._UZ(3,"img",2),s.qZA(),s._UZ(4,"img",3),s.TgZ(5,"button",4),s.NdJ("click",function(){return Z.goToNotify()}),s._UZ(6,"img",5),s.qZA()()())},dependencies:[C.Gu],styles:[".header[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:1fr auto 1fr;color:#fff;padding-top:calc(.9375rem + env(safe-area-inset-top))!important}.header__left[_ngcontent-%COMP%]{padding:.3125rem;justify-self:start}.header__logo[_ngcontent-%COMP%]{width:11.25rem}.header__title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;justify-self:center}.header__right[_ngcontent-%COMP%]{padding:.3125rem;justify-self:right}.header__right[_ngcontent-%COMP%]   i.icm-notif[_ngcontent-%COMP%]{font-size:1.375rem}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none!important}"]})}return l})()},5053:(P,b,a)=>{a.d(b,{b:()=>h});var m=a(5861),n=a(2029),s=a(2545),_=a(1232),g=a(6223);let h=(()=>{class v{constructor(e,l){this.authService=e,this.modalCtrl=l,this.star=5,this.comment=""}ngOnInit(){}setRaiting(){var e=this;return(0,m.Z)(function*(){(yield e.authService.setRaiting(e.orderid,e.star,e.comment,e.userid).toPromise()).status&&(yield e.authService.alert("\u041e\u0442\u043b\u0438\u0447\u043d\u043e","\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u043e\u0446\u0435\u043d\u0438\u043b\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430."),yield e.modalCtrl.dismiss())})()}static#e=this.\u0275fac=function(l){return new(l||v)(n.Y36(s.$),n.Y36(_.IN))};static#t=this.\u0275cmp=n.Xpm({type:v,selectors:[["app-setraiting"]],inputs:{orderid:"orderid",userid:"userid"},decls:13,vars:6,consts:[[1,"raiting-page"],[1,"stars"],[3,"name","click"],["type","text","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",3,"ngModel","ngModelChange"],[3,"click"]],template:function(l,p){1&l&&(n.TgZ(0,"ion-content")(1,"div",0)(2,"h2"),n._uU(3,"\u041e\u0446\u0435\u043d\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),n.qZA(),n.TgZ(4,"div",1)(5,"ion-icon",2),n.NdJ("click",function(){return p.star=1}),n.qZA(),n.TgZ(6,"ion-icon",2),n.NdJ("click",function(){return p.star=2}),n.qZA(),n.TgZ(7,"ion-icon",2),n.NdJ("click",function(){return p.star=3}),n.qZA(),n.TgZ(8,"ion-icon",2),n.NdJ("click",function(){return p.star=4}),n.qZA(),n.TgZ(9,"ion-icon",2),n.NdJ("click",function(){return p.star=5}),n.qZA()(),n.TgZ(10,"input",3),n.NdJ("ngModelChange",function(d){return p.comment=d}),n.qZA(),n.TgZ(11,"button",4),n.NdJ("click",function(){return p.setRaiting()}),n._uU(12,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443"),n.qZA()()()),2&l&&(n.xp6(5),n.Q6J("name",p.star>=1?"star":"star-outline"),n.xp6(1),n.Q6J("name",p.star>=2?"star":"star-outline"),n.xp6(1),n.Q6J("name",p.star>=3?"star":"star-outline"),n.xp6(1),n.Q6J("name",p.star>=4?"star":"star-outline"),n.xp6(1),n.Q6J("name",p.star>=5?"star":"star-outline"),n.xp6(1),n.Q6J("ngModel",p.comment))},dependencies:[g.Fj,g.JJ,g.On,_.W2,_.gu],styles:[".raiting-page[_ngcontent-%COMP%]{height:400px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column}.raiting-page[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:20px;width:80%;outline:none;background:#252333;border:none;border-radius:4px;height:56px;padding:0 0 0 15px;font-family:Montserrat,sans-serif;font-style:normal;font-weight:500;font-size:14px;line-height:16px;color:#cfd2d8;box-sizing:border-box}.raiting-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:0;color:#fff}.raiting-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;text-align:center;color:#fff}.raiting-page[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{margin-top:20px}.raiting-page[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:5px;color:#ed901e;font-size:3em}.raiting-page[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:80%;margin-top:20px;border-radius:10px;background:#403c5f}"]})}return v})()}}]);